(this["webpackJsonpmerge-face"]=this["webpackJsonpmerge-face"]||[]).push([[0],{38:function(e,a,t){e.exports=t(48)},43:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(6),l=t.n(o),c=(t(43),t(25)),i=t(83),s=t(76),m=t(31),p=t.n(m),d=t(82),u=t(81),g=t(80),f=Object(s.a)((function(e){return{selfPhoto:{display:"flex",height:"300px",width:"100%",alignItem:"center",justifyContent:"center",border:"1px solid grey",marginBottom:"5px"},selfImg:{display:"none"}}})),h=function(e){e.selfImgData;var a=e.setSelfImgData,t=f();return r.a.createElement("div",null,r.a.createElement("div",{className:t.selfPhoto},r.a.createElement("video",{src:""}),r.a.createElement("canvas",{id:"canvas",className:t.selfImg,width:"200",height:"250"})),r.a.createElement(i.a,{variant:"contained",color:"secondary",className:t.reShot,onClick:function(){navigator.mediaDevices.getUserMedia({audio:!0,video:{width:200,height:250}}).then((function(e){console.log("getUserMedia:",e);var t=document.querySelector("video");t.srcObject=e,t.onloadedmetadata=function(e){t.play()};var n=document.getElementById("canvas");document.querySelector(".shot").onclick=function(){t.pause(),n.getContext("2d").drawImage(t,0,0,200,250),console.log(n.toDataURL("image/jpeg")),a(n.toDataURL("image/jpeg"))}}))}},"\u91cd\u62cd/\u6253\u5f00\u6444\u50cf\u5934"),r.a.createElement(i.a,{variant:"contained",color:"primary",className:(t.shot,"shot")},"\u62cd\u7167"))},v=Object(s.a)((function(e){return{module:{display:"flex",flexDirection:"column",alignItems:"center"},moduleImg:{display:"flex",height:"300px",width:"100%",alignItems:"center",justifyContent:"center",border:"1px solid grey",marginBottom:"5px"},uploadFileInput:{opacity:"0",height:"100%",width:"100%",position:"absolute",left:"0",top:"0",zIndex:"2",cursor:"pointer"},uploadDiv:{position:"relative",width:"150px",cursor:"pointer"},uploadImg:{maxWidth:"200px",maxHeight:"250px"}}})),x=function(e){var a=v(),t=Object(n.useRef)(),o=e.uploadImgData,l=e.setUploadImgData;return r.a.createElement("div",{className:a.module},r.a.createElement("div",{className:a.moduleImg},r.a.createElement("img",{className:a.uploadImg,alt:"\u6a21\u677f\u7167\u7247",src:o})),r.a.createElement("div",{className:a.uploadDiv},r.a.createElement(i.a,{variant:"contained",color:"primary"},"\u70b9\u51fb\u4e0a\u4f20"),r.a.createElement("input",{ref:t,type:"file",accept:"image/*",className:a.uploadFileInput,onChange:function(){console.log(t.current.files[0]);var e=new FileReader;e.readAsDataURL(t.current.files[0]),e.onload=function(){l(e.result)}}})))},E=(t(47),Object(s.a)((function(e){return{root:{flexGrow:2},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},resultImg:{maxWidth:"400px"}}})));var y=function(){var e=E(),a=Object(n.useState)(),t=Object(c.a)(a,2),o=t[0],l=t[1],s=Object(n.useState)(),m=Object(c.a)(s,2),f=m[0],v=m[1],y=Object(n.useState)(),I=Object(c.a)(y,2),b=I[0],j=I[1],w=Object(n.useRef)(),D=Object(n.useRef)();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(g.a,{item:!0,xs:5},r.a.createElement(u.a,{className:e.paper},r.a.createElement(h,{selfImgData:o,setSelfImgData:l}))),r.a.createElement(g.a,{item:!0,xs:2},r.a.createElement(u.a,{className:e.paper,style:{backgroundColor:"pink",transform:"translateY(80px)"}},r.a.createElement(d.a,{required:!0,id:"filled-required",label:"api_key",inputRef:w,variant:"filled"}),r.a.createElement(d.a,{required:!0,id:"filled-required",label:"api_secret",inputRef:D,variant:"filled"}),r.a.createElement(i.a,{onClick:function(){var e=new FormData;e.append("api_key",w.current.value),e.append("api_secret",D.current.value),e.append("template_base64",f),e.append("merge_base64",o),p.a.ajax({type:"POST",url:"https://api-cn.faceplusplus.com/imagepp/v1/mergeface",data:e,processData:!1,contentType:!1,crossDomain:!0,success:function(e){"undefined"==typeof e.error_message?(console.log(e),j("data:image/jpg/png;base64,"+e.result)):alert("\u8bf7\u91cd\u65b0\u4e0a\u4f20\u7167\u7247")},error:function(e,a,t){console.log(e.responseText),alert("\u8bf7\u91cd\u65b0\u4e0a\u4f20\u7167\u7247")}})},style:{width:"100%",height:"100%",fontSize:"20px",marginTop:"10px"}},"+"))),r.a.createElement(g.a,{item:!0,xs:5},r.a.createElement(u.a,{className:e.paper},r.a.createElement(x,{uploadImgData:f,setUploadImgData:v}))),r.a.createElement(g.a,{item:!0,xs:10},r.a.createElement(u.a,{className:e.paper},r.a.createElement("img",{alt:"\u7ed3\u679c\u56fe",className:e.resultImg,src:b})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.527f9861.chunk.js.map